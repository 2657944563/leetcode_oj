// å¼€å§‹æ—¶é—´ï¼š2023-09-20 21:52:56
// é¢˜ç›®æ ‡é¢˜ï¼šæ—©é¤ç»„åˆ
// é¢˜ç›®æ ‡è®°ï¼š2vYnGI
// é¢˜ç›®ç¼–å·ï¼šLCP 18
// é¢˜ç›®æè¿°ï¼š

import java.util.Arrays;

/**
 * å°æ‰£åœ¨ç§‹æ—¥å¸‚é›†é€‰æ‹©äº†ä¸€å®¶æ—©é¤æ‘Šä½ï¼Œä¸€ç»´æ•´å‹æ•°ç»„ `staple` ä¸­è®°å½•äº†æ¯ç§ä¸»é£Ÿçš„ä»·æ ¼ï¼Œä¸€ç»´æ•´å‹æ•°ç»„ `drinks` ä¸­è®°å½•äº†æ¯ç§é¥®æ–™çš„ä»·æ ¼ã€‚å°æ‰£çš„è®¡åˆ’é€‰æ‹©
 * ä¸€ä»½ä¸»é£Ÿå’Œä¸€æ¬¾é¥®æ–™ï¼Œä¸”èŠ±è´¹ä¸è¶…è¿‡ `x` å…ƒã€‚è¯·è¿”å›å°æ‰£å…±æœ‰å¤šå°‘ç§è´­ä¹°æ–¹æ¡ˆã€‚
 * <p>
 * æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ `1e9 + 7 (1000000007)` ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æœä¸ºï¼š`1000000008`ï¼Œè¯·è¿”å› `1`
 * <p>
 * *ç¤ºä¾‹ 1ï¼š**
 * <p>
 * > è¾“å…¥ï¼š`staple = [10,20,5], drinks = [5,5,2], x = 15`
 * >
 * > è¾“å‡ºï¼š`6`
 * >
 * > è§£é‡Šï¼šå°æ‰£æœ‰ 6 ç§è´­ä¹°æ–¹æ¡ˆï¼Œæ‰€é€‰ä¸»é£Ÿä¸æ‰€é€‰é¥®æ–™åœ¨æ•°ç»„ä¸­å¯¹åº”çš„ä¸‹æ ‡åˆ†åˆ«æ˜¯ï¼š
 * > ç¬¬ 1 ç§æ–¹æ¡ˆï¼šstaple[0] + drinks[0] = 10 + 5 = 15ï¼›
 * > ç¬¬ 2 ç§æ–¹æ¡ˆï¼šstaple[0] + drinks[1] = 10 + 5 = 15ï¼›
 * > ç¬¬ 3 ç§æ–¹æ¡ˆï¼šstaple[0] + drinks[2] = 10 + 2 = 12ï¼›
 * > ç¬¬ 4 ç§æ–¹æ¡ˆï¼šstaple[2] + drinks[0] = 5 + 5 = 10ï¼›
 * > ç¬¬ 5 ç§æ–¹æ¡ˆï¼šstaple[2] + drinks[1] = 5 + 5 = 10ï¼›
 * > ç¬¬ 6 ç§æ–¹æ¡ˆï¼šstaple[2] + drinks[2] = 5 + 2 = 7ã€‚
 * <p>
 * *ç¤ºä¾‹ 2ï¼š**
 * <p>
 * > è¾“å…¥ï¼š`staple = [2,1,1], drinks = [8,9,5,1], x = 9`
 * >
 * > è¾“å‡ºï¼š`8`
 * >
 * > è§£é‡Šï¼šå°æ‰£æœ‰ 8 ç§è´­ä¹°æ–¹æ¡ˆï¼Œæ‰€é€‰ä¸»é£Ÿä¸æ‰€é€‰é¥®æ–™åœ¨æ•°ç»„ä¸­å¯¹åº”çš„ä¸‹æ ‡åˆ†åˆ«æ˜¯ï¼š
 * > ç¬¬ 1 ç§æ–¹æ¡ˆï¼šstaple[0] + drinks[2] = 2 + 5 = 7ï¼›
 * > ç¬¬ 2 ç§æ–¹æ¡ˆï¼šstaple[0] + drinks[3] = 2 + 1 = 3ï¼›
 * > ç¬¬ 3 ç§æ–¹æ¡ˆï¼šstaple[1] + drinks[0] = 1 + 8 = 9ï¼›
 * > ç¬¬ 4 ç§æ–¹æ¡ˆï¼šstaple[1] + drinks[2] = 1 + 5 = 6ï¼›
 * > ç¬¬ 5 ç§æ–¹æ¡ˆï¼šstaple[1] + drinks[3] = 1 + 1 = 2ï¼›
 * > ç¬¬ 6 ç§æ–¹æ¡ˆï¼šstaple[2] + drinks[0] = 1 + 8 = 9ï¼›
 * > ç¬¬ 7 ç§æ–¹æ¡ˆï¼šstaple[2] + drinks[2] = 1 + 5 = 6ï¼›
 * > ç¬¬ 8 ç§æ–¹æ¡ˆï¼šstaple[2] + drinks[3] = 1 + 1 = 2ï¼›
 * <p>
 * *æç¤ºï¼š**
 * + `1 <= staple.length <= 10^5`
 * + `1 <= drinks.length <= 10^5`
 * + `1 <= staple[i],drinks[i] <= 10^5`
 * + `1 <= x <= 2*10^5`
 * <p>
 * Related Topics æ•°ç»„ åŒæŒ‡é’ˆ äºŒåˆ†æŸ¥æ‰¾ æ’åº ğŸ‘ 84 ğŸ‘ 0
 */
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int breakfastNumber(int[] staple, int[] drinks, int x) {
        int sum = 0;
        Arrays.sort(drinks);
        for (int i : staple) {
            int m = x - i;
            sum = ((m <= 0 ? 0 : binary(m, drinks)) + sum) % 1000000007;
        }
        return sum;
    }

    int binary(int n, int[] drinks) {
        int l = 0, r = drinks.length - 1, mid = l + (r - l) / 2;
        while (l <= r) {
            if (drinks[mid] <= n) {
                l = mid + 1;
            } else {
                r = mid - 1;
            }
            mid = l + (r - l) / 2;
        }
        return l;
    }
}
//leetcode submit region end(Prohibit modification and deletion)

